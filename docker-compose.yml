version: '3.8'

services:
  backoffice:
    build:
      context: .
      args:
        NEXT_PUBLIC_API_URL: http://localhost:3001/api/v1
    container_name: fila-backoffice
    ports:
      - '3002:8080'
    environment:
      # Server-side API URL (internal Docker network)
      API_URL: http://fila-api:8080/api/v1
      NODE_ENV: development
      NEXTAUTH_SECRET: local-dev-secret-key
      NEXTAUTH_URL: http://localhost:3002
    networks:
      - fila-network

networks:
  fila-network:
    external: true
    name: fila-api_fila-network
